extends ../layout

block head
  if typeof answers !== 'undefined' && answers != ''
    script(src='/libs/underscore/underscore-min.js')
    script(src='/libs/backbone/backbone-min.js')
    script(src='/libs/openlayers/build/ol.js')
    script(src='/js/map.js')
    link(rel='stylesheet', href='/libs/openlayers/build/ol.css', type='text/css')
  
block content
  div(class="container")
    div(class="row-fluid")
      div(class="span12")
        h1= question.value

    if typeof answers !== 'undefined' && answers != ''
      div(class="row-fluid")
        div(class="span12")
          ul(class="answer_graph")
            if yesWidth !== 0
              li(style="width:" + yesWidth + "%;", class="answers yes")
                h2= 'Yes (' + yesWidth + ')'
            if noWidth !== 0
              li(style="width:" + noWidth + "%;", class="answers no")
                h2= 'No (' + noWidth + ')'

      div(class="row-fluid")
        div(class="span12")
          .map
            div(id="map")
          
    else 
      p.alert.alert-block 
        = 'No votes have been collected'
